<div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
   <!--indicators starts-->
   <ol class="carousel-indicators">
      <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
      <li data-target="#carousel-example-generic" data-slide-to="1"></li>
      <li data-target="#carousel-example-generic" data-slide-to="2"></li>
   </ol>
   <!--slider wrappers-->
   <div class="carousel-inner" role="listbox">
      <div class="item active">
         <img src="/assets/carousel1.jpg" alt="slde1" style="width:100%">
         <div class="carousel-caption">
            <h4 class="toggleHeading">Restaurant Employer Read Clients Orders On His iPad</h4>
           
         </div>
      </div>
      <div class="item">
         <img src="/assets/carousel2.jpg" style="width:100%">
         <div class="carousel-caption">
            <h4 class="toggleHeading" style="color:black">Restaurant Employer Read Clients Orders On His iPad</h4>
            
         </div>
      </div>
      <div class="item">
         <img src="/assets/carousel3.jpg" style="width:100%">
         <div class="carousel-caption">
            <h4 class="toggleHeading">Restaurant Employer Read Clients Orders On His iPad</h4>
            
         </div>
      </div>
   </div>
   <!-- Controls -->
   <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
   <span class="sr-only">Previous</span>
   </a>
   <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
   <span class="sr-only">Next</span>
   </a>
</div>
<div class="container">
  
   <div class="col-md-8 col-xs-12">
      <div class="col-md-3 col-xs-12 title titlea">
         <h5 class="what-new indexlogo"> WHATS NEW!</h5>
      </div>
   </div>
  <div class="row">
    <div class="col-lg-8 col-md-8 col-xs-12"> 

      
      <div class="col-md-12 col-xs-12" style=" margin-bottom:20px;">
      <%@articles.reverse_each do |article|%>
         <div class="col-md-6"><%= image_tag article.image.url(:medium), class: "img-responsive" %>
          <div class="row" style="margin-top:20px">
            <div class="col-md-5 col-xs-5 tagname" style="margin-top:5px; font-size:12px; display:inline-flex;"><div><i class="fa fa-tags fa-2x ff">&nbsp;&nbsp;</i></div><% article.tags.each_with_index do |tag,index| %>
               <% if index > 0 %>
               ,&nbsp
               <% end %>
               <%= link_to tag.name, tag_path(tag), class: "tagname",style:"font-size:13px; color:black;"%>
               <%end%>
            </div>
            <div class="col-md-3 col-xs-3 tagname" style="margin-top:3px;">
               <% if article.comments.size == 0%>
               <%= link_to "Leave Comment",article_path(article),class: "tagname",style:"font-size:13px; color:black;"%>
               <%else%>
               <i class="fa fa-comments fa-2x ff">&nbsp;&nbsp;</i><%=link_to article.comments.size,article_path(article),class: "tagname",style:"font-size:13px; color:black;" %>
               <%end%>
            </div>
            <div class="col-md-4 col-xs-4 ablack tagname" style="font-size:13px; bottom:2px; color:black;"> <%= image_tag article.author.photo.url(:nano), class: "img-circle nano"%>&nbsp;&nbsp;
               <%=link_to article.author.name,profile_path(article.author_id)%>
            </div>
         </div></div>
        <div class="col-md-6 articletitle" style="bottom:4px"> <p class="title"><%= link_to article.title, article_path(article)%></p>
        <p class="articlebody" style="margin-top:-10px"><%= truncate article.body, length: 260 %></p>
         <p class="pp articlecontinue" style= "margin: 5px 0px 40px 0px; float:right;"><%= link_to 'Continue', article_path(article), class: 'read' %></p>
        
      
       </div>
     <%end%>
     </div>
 
      
     
    </div>

    <div class="col-lg-4 col-md-4 col-xs-12">
    <h5 style="padding-bottom:5px;
    margin-top: 0px;
    float: left;
    font-weight: 600;
        margin-left: 13px;
    ">POPULAR POST</h5>
     <%@articles.each do |article|%>
        <div class="col-md-12 col-xs-12">
         
        <div class="col-md-4 col-xs-4" style="padding-left:0px">
          <p><%= image_tag article.image.url(:small), class: "img-responsive", style: "height:59px" %></p>
          </div>
          <div class="col-md-8 col-xs-7" style="padding-left:10px; bottom:5px;"><%= link_to article.title, article_path(article),class: 'article_title'%></p>
          <p class="date" style="font-size:10px"><%= l article.created_at, :format => :sample %></p>
          </div>
          
        </div>
        <%end%>
        
        

      
    </div><!--first col md 4 finish-->
    
  </div>
</div>

 
<script type="text/javascript">
  var carouselContainer = $('.carousel');
var slideInterval = 4000;
  
  function toggleH(){
    $('.toggleHeading').hide()
    var caption = carouselContainer.find('.active').find('.toggleHeading').addClass('animated fadeInRight').one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend',
      function (){
      $(this).removeClass('animated fadeInRight')});
  caption.slideToggle();
  }
  
  /*function toggleC(){
    $('.toggleCaption').hide()
    var caption = carouselContainer.find('.active').find('.toggleCaption').addClass('animated fadeInUp').one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend',
      function (){
      $(this).removeClass('animated fadeInUp')
  });
  caption.slideToggle();
  }*/
carouselContainer.carousel({
interval: slideInterval, cycle: true})
.on('slide.bs.carousel slid.bs.carousel', toggleH).trigger('slide.bs.carousel');
/*.on('slide.bs.carousel slid.bs.carousel', toggleC).trigger('slide.bs.carousel');*/
</script>